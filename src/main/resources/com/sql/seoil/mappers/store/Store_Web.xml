<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.seoil.campustown.store.service.impl.StoreMapper">

	<select id="selectStoreServiceInfo" parameterType="int" resultType="storeVO">
		select s_num    , s_name, c_num     , s_tel    , s_address,
			   s_content, s_snsurl  , s_hashtag, s_hours
	      from store
		 where s_num = #{_parameter}
	</select>
	
	<insert id="insertStoreServiceInfo" parameterType="storeVO">
		insert into store(
			s_name, c_num   , s_tel    , s_address, s_content,
			s_snsurl, s_hashtag, s_hours
		) values (
			#{s_name}, #{c_num}   , #{s_tel}    , #{s_address}, #{s_content},
			#{s_snsurl}, #{s_hashtag}, #{s_hours}
		)
	</insert>
	
	<select id="selectStoreServiceList" resultType="storeVO">
		select s_num    , s_name, c_category, s_tel    , s_address,
			   s_content, s_snsurl  , s_hashtag, s_hours
	      from store s join category c on s.c_num = c.c_num
		 order by s_num
	</select>
	
	<select id="selectStoreServiceCategoryList" resultType="map">
		select c_num, c_category, c_img
	      from category
		 order by c_num
	</select>
	
	<update id="updateStoreServiceInfo" parameterType="storeVO">
		update store
		   set s_name=#{s_name},
			   c_num=#{c_num},
			   s_tel=#{s_tel},
			   s_address=#{s_address},
			   s_content=#{s_content},
			   s_snsurl=#{s_snsurl},
			   s_hashtag=#{s_hashtag},
			   s_hours=#{s_hours}
		 where s_num = #{s_num}
	</update>
	
	<delete id="deleteStoreServiceInfo">
		delete from store
		 where s_num = #{_parameter}  
	</delete>

</mapper>